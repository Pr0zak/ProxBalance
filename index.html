<!DOCTYPE html>
<!-- ProxBalance v2.0-AI - Build 20251022-0008 - Added IOWait Sparkline to Node Modal -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>ProxBalance - Cluster Optimization</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg?v=2">

    <!-- Critical CSS - Loads instantly for splash screen -->
    <style>
      /* Reset and base styles */
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; }

    </style>

    <!-- Local React libraries for faster loading -->
    <script crossorigin src="/assets/js/react.production.min.js"></script>
    <script crossorigin src="/assets/js/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js loaded lazily when Node Status section is expanded -->
    <script>
      tailwind.config = {
        darkMode: 'class'
      }
    </script>
    <style>
      @keyframes dashFlow {
        from { stroke-dashoffset: 0; }
        to { stroke-dashoffset: 10; }
      }
      .animated-arrow {
        animation: dashFlow 1s linear infinite;
      }
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }
      .pulse-animation {
        animation: pulse 2s ease-in-out infinite;
      }
      @keyframes balance {
        0% { transform: rotate(0deg) scale(1); }
        15% { transform: rotate(-8deg) scale(1.05); }
        30% { transform: rotate(8deg) scale(1.1); }
        45% { transform: rotate(-6deg) scale(1.05); }
        60% { transform: rotate(6deg) scale(1.08); }
        75% { transform: rotate(-3deg) scale(1.03); }
        85% { transform: rotate(2deg) scale(1.02); }
        95% { transform: rotate(-1deg) scale(1.01); }
        100% { transform: rotate(0deg) scale(1); }
      }
      .logo-balancing {
        animation: balance 2s ease-in-out;
      }

      /* Skeleton loader styles */
      @keyframes shimmer {
        0% { background-position: -1000px 0; }
        100% { background-position: 1000px 0; }
      }

      .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 1000px 100%;
        animation: shimmer 2s infinite;
        border-radius: 0.5rem;
      }

      .dark .skeleton {
        background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
        background-size: 1000px 100%;
      }
    </style>
</head>
<body>
    <!-- Simple centered loading screen -->
    <div id="static-skeleton" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: #111827; display: flex; align-items: center; justify-content: center; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; transition: opacity 0.5s ease-out;">
      <div style="text-align: center;">
        <div style="font-size: 2rem; font-weight: 700; color: #f9fafb; margin-bottom: 1rem;">ProxBalance</div>
        <div style="font-size: 1rem; color: #9ca3af;">Loading...</div>
      </div>
    </div>

    <div id="root"></div>
    <script src="/assets/js/app.js"></script>
    <script>
      // Remove loading skeleton when React renders
      const checkReactReady = setInterval(() => {
        const root = document.getElementById('root');
        if (root && root.children.length > 0) {
          const skeleton = document.getElementById('static-skeleton');
          if (skeleton) {
            skeleton.style.opacity = '0';
            setTimeout(() => skeleton.remove(), 500);
          }
          clearInterval(checkReactReady);
        }
      }, 100);
    </script>
</body>
</html>
